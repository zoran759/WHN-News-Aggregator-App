<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">
<head>
    <meta charset="UTF-8">
        <meta charset="utf-8">
    {% block viewport %}
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% endblock viewport %}
    <meta name="description" content="">
    <meta name="author" content="">
    <meta property="og:title" content="{% block meta-title %}WHITE HAT NEWS{% endblock %}">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://news.viceroy.tech{% static 'images/og.jpg' %}"/>
    {% block meta_description %}
        <meta property="og:description" content="{{ title_tagline }}">{% endblock %}
    <link rel="shortcut icon" href="{% static 'images/favicon.png' %}">

    {% block title %}<title>White Hat News</title>{% endblock %}

    <link href="{% static 'bootstrap-4.3.1/css/bootstrap.min.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
{#    <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.indigo-pink.min.css">#}
    <link href="{% static 'css/new_base.css' %}" rel="stylesheet">
    <!--<script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script> -->
    {% block css %} {% endblock %}

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="../../assets/js/html5shiv.js"></script>
        <script src="../../assets/js/respond.min.js"></script>
        <![endif]-->
    <!-- Hotjar Tracking Code for https://news.viceroy.tech -->
    <script>
        (function(h,o,t,j,a,r){
            h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
            h._hjSettings={hjid:1307519,hjsv:6};
            a=o.getElementsByTagName('head')[0];
            r=o.createElement('script');r.async=1;
            r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
            a.appendChild(r);
        })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
    </script>
    <!-- Facebook Pixel Code -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
            n.callMethod.apply(n,arguments):n.queue.push(arguments)};
            if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
            n.queue=[];t=b.createElement(e);t.async=!0;
            t.src=v;s=b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t,s)}(window, document,'script',
            'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '2333958453529271');
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
                   src="https://www.facebook.com/tr?id=2333958453529271&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Facebook Pixel Code -->
</head>
<body>
<header class="d-flex align-items-stretch">
    <div class="container d-flex align-items-stretch">
        <nav class="navbar navbar-expand-md flex-fill align-items-stretch">
            <div class="header-title navbar-brand align-self-center">
                <a href="{% url 'index' %}">White hat news</a>
            </div>
            <div class="search d-flex d-md-none d-lg-none d-xl-none ml-auto align-self-center align-items-stretch">
                <button class="btn btn-search"><img alt="Search" src="{% static 'images/search.svg' %}" /></button>
            </div>
            <button class="btn navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon top-bar"></span>
                <span class="navbar-toggler-icon bottom-bar"></span>
            </button>
            <div class="d-none d-md-flex d-lg-flex sort-buttons align-lg-self-stretch align-items-stretch">
                <a href="{% url 'index_popular' %}" class="btn d-flex sort-button {% if request.path == '/popular/' %}active{% endif %}"><span class="align-self-center">Popular</span></a>
                <a href="{% url 'index_latest' %}" class="btn d-flex sort-button {% if request.path == '/latest/' %}active{% endif %}"><span class="align-self-center">Latest</span></a>
            </div>
            <div class="search d-none d-md-flex d-lg-flex d-xl-flex align-self-center align-items-stretch">
                <button class="btn btn-search"><img alt="Search" src="{% static 'images/search.svg' %}" /></button>
            </div>
            <div  class="collapse navbar-collapse flex-md-row flex-lg-row" id="navbarSupportedContent">
                <div class='navbar-expander'></div>
                <div class="header-buttons d-flex d-md-inline-flex d-lg-inline-flex ml-md-auto ml-lg-auto flex-column flex-md-row flex-lg-row">
                    {% if request.user.is_authenticated %}
                        <button class="btn btn-signup red-button suggest-news">Suggest news</button>
                        <button class="btn profile-image"><img src="{{ user.userprofile.image_thumbnail.url }}" /></button>
                    {% endif %}
                    {% if not request.user.is_authenticated %}
                    <button type="button" data-toggle="modal" data-target="#register-modal" class="btn btn-signup red-button">Sign up</button>
                    <button type="button" data-toggle="modal" data-target="#register-modal" class="btn btn-login primary-button"><span class="btn-login-decoration">Login</span></button>
                    {% endif %}
                    {% if request.user.is_authenticated %}
                    <button class="btn btn-login primary-button d-inline-block d-md-none d-lg-none d-xl-none"><span class="btn-login-decoration">Suggest news</span></button>
                    {% endif %}

                </div>
            </div>
        </nav>
    </div>
</header>
<div class="search-container">
    <form id="search-form" class="container">
        <input type="search" placeholder="Search News & Articles">
    </form>
</div>

<div id="mobile-sort-buttons" class="d-flex d-md-none d-lg-none sort-buttons align-lg-self-stretch align-items-stretch">
                <a href="{% url 'index_popular' %}" class="btn d-flex sort-button {% if request.path == '/popular/' or request.path == '/' %}active{% endif %}"><span class="align-self-center">Popular</span></a>
                <a href="{% url 'index_latest' %}" class="btn d-flex sort-button {% if request.path == '/latest/' %}active{% endif %}"><span class="align-self-center">Latest</span></a>
            </div>
<div id="search-results" class="container main-content"></div>
<div class="container main-content">
{% block content %}{% endblock content %}
</div>
<div class="modal fade" id="register-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true"><img alt="Close sign up" src="{% static 'images/close.svg' %}" /></span>
        </button>
      </div>
      <div class="modal-body">
      </div>
    </div>
  </div>
</div>

{% block bottom-of-body %}{% endblock %}
<!-- Bootstrap core JavaScript
     ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="{% static 'bootstrap-4.3.1/js/bootstrap.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/base.js' %}"></script>
{% if request.user.is_authenticated %}
<script type="text/javascript" src="{% static 'js/upvote.js' %}"></script>
{% endif %}
<script type="text/javascript" src="{% static 'js/js.cookie.js' %}"></script>
<script>
    let menu = $('#navbarSupportedContent');
    menu.on('show.bs.collapse', function () {
        $('header').css({position: 'fixed'});
    });
    menu.on('hide.bs.collapse', function () {
        $('header').css({position: 'relative'});
    });
    $(function () {
        $('.btn-signup').click(function () {
            $.get("{% url 'django_registration_register' %}",
                function (data) {
                    $('.modal .modal-body').html(data);
                }
            );
        });
        $('.btn-login').click(function () {
            $.get("{% url 'django_registration_login' %}",
                function (data) {
                    $('.modal .modal-body').html(data);
                }
            );
        });
    });
</script>
<!-- Start of HubSpot Embed Code -->
<script type=“text/javascript” id=“hs-script-loader” async defer src=“http://js.hs-scripts.com/5139372.js”></script>
<!-- End of HubSpot Embed Code -->
{% block js %}
{% endblock %}
</body>

</html>